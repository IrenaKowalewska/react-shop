{"version":3,"sources":["components/Header.js","components/Footer.js","components/Preloader.js","components/GoodsItem.js","components/GoodsList.js","components/Cart.js","components/CartItem.js","components/CartList.js","components/Alert.js","components/Shop.js","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","GoodsItem","props","mainId","displayName","displayDescription","price","displayAssets","addToCart","Function","prototype","finalPrice","src","background","alt","onClick","GoodsList","goods","length","map","item","Cart","order","handleCartShow","CartItem","quantity","deleteFromCart","removeProductCount","addProductCount","CartList","totalPrice","reduce","sum","nextEl","Alert","name","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","setOrder","loading","setLoading","isCartShowed","setCartShowed","alertName","setAlertName","fetch","headers","Authorization","then","res","json","data","shop","orderIndex","findIndex","elem","newItem","newOrder","index","itemIndex","beforeItem","slice","afterItem","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9841dc98.chunk.js","sourcesContent":["const Header = () => {\r\n    return <nav className=\"indigo darken-4\">\r\n                <div className=\"nav-wrapper\">\r\n                <a href=\"#nav-mobile\" className=\"brand-logo\">React Shop</a>\r\n                <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\r\n                    <li><a href=\"https://github.com/IrenaKowalewska\">MY GITHUB</a></li>\r\n                </ul>\r\n                </div>\r\n            </nav>\r\n}\r\n\r\nexport { Header };","const Footer = () => {\r\n    return <footer className=\"page-footer blue darken-4\">\r\n                <div className=\"footer-copyright\">\r\n                    <div className=\"container\">\r\n                         { new Date().getFullYear()} \r\n                        <a className=\"grey-text text-lighten-4 right\" href=\"https://github.com/IrenaKowalewska\">My GitHub</a>\r\n                    </div>\r\n                </div>\r\n            </footer>\r\n}\r\n\r\nexport { Footer };","const Preloader = () => {\r\n    return <div className=\"preloader-wrapper big active\">\r\n                <div className=\"spinner-layer spinner-blue-only\">\r\n                    <div className=\"circle-clipper left\">\r\n                        <div className=\"circle\"></div>\r\n                    </div><div className=\"gap-patch\">\r\n                        <div className=\"circle\"></div>\r\n                    </div><div className=\"circle-clipper right\">\r\n                        <div className=\"circle\"></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n}\r\n\r\nexport { Preloader };","const GoodsItem = (props) => {\r\n    const {\r\n        mainId,\r\n        displayName,\r\n        displayDescription,\r\n        price,\r\n        displayAssets,\r\n        addToCart = Function.prototype\r\n    } = props;\r\n    const { finalPrice } = price;\r\n    return <div className=\"card hoverable\" id={mainId}>\r\n               <div className=\"card-image\">\r\n                    <img src={displayAssets[0].background} alt={displayName}/>\r\n                </div>\r\n                <div className=\"card-content\">\r\n                    <span className=\"card-title\">{displayName}</span>\r\n                    <p>{displayDescription}</p>\r\n               </div>\r\n               <div className=\"card-action\">\r\n                    <button onClick={() => addToCart({mainId, displayName, finalPrice})} className=\"btn blue darken-2\">Купить</button>\r\n                    <span className=\"right price\">{finalPrice} &#8381;</span>\r\n                </div>\r\n            </div>\r\n}\r\n\r\nexport { GoodsItem };\r\n","import { GoodsItem } from './GoodsItem';\r\nconst GoodsList = (props) => {\r\n    const { goods = [], addToCart = Function.prototype } = props;\r\n\r\n    if (!goods.length) {\r\n        return <h2>Нету ничего для отображения</h2>\r\n    }\r\n\r\n    return <div className=\"goods\">\r\n            {goods.map(item => <GoodsItem key={item.mainId} {...item} addToCart={addToCart}/>)}\r\n            </div>\r\n}\r\n\r\nexport { GoodsList };","const Cart = (props) => {\r\n    const { order = 0, handleCartShow = Function.prototype } = props;\r\n\r\n    return <div \r\n                className=\"cart blue darken-2 white-text\" \r\n                onClick={handleCartShow}\r\n            >\r\n                <i className=\"material-icons\">shopping_cart</i>\r\n                {order ? <span className=\"cart-quantity\">{order}</span> : null}\r\n            </div>\r\n}\r\n\r\nexport { Cart };","\r\nfunction CartItem(props) {\r\n    const { \r\n        mainId, \r\n        displayName, \r\n        finalPrice, \r\n        quantity, \r\n        deleteFromCart = Function.prototype,\r\n        removeProductCount = Function.prototype,\r\n        addProductCount = Function.prototype    \r\n    } = props;\r\n    \r\n    return <li className=\"collection-item\"> \r\n                {displayName} × {quantity} =  {finalPrice * quantity} &#8381;, price: {finalPrice} &#8381;\r\n                <span \r\n                    className=\"secondary-content delete-btn blue-text\" \r\n                    onClick={() => deleteFromCart(mainId)}\r\n                >\r\n                    <i className=\"material-icons\">delete_forever</i>\r\n                </span>\r\n                <span \r\n                    className=\"secondary-content delete-btn blue-text\" \r\n                    onClick={() => removeProductCount(mainId)}\r\n                >\r\n                    <i className=\"material-icons\">remove</i>\r\n                </span>\r\n                <span \r\n                    className=\"secondary-content delete-btn blue-text\" \r\n                    onClick={() => addProductCount(mainId)}\r\n                >\r\n                    <i className=\"material-icons\">add</i>\r\n                </span>\r\n            </li>\r\n}\r\n\r\nexport { CartItem };","import { CartItem } from './CartItem';\r\nfunction CartList(props) {\r\n    const { order = [], \r\n        handleCartShow = Function.prototype, \r\n        deleteFromCart = Function.prototype,\r\n        removeProductCount = Function.prototype,\r\n        addProductCount = Function.prototype    \r\n    } = props;\r\n    const totalPrice = order.reduce((sum, nextEl) => {\r\n        return sum + nextEl.finalPrice * nextEl.quantity;\r\n    }, 0);\r\n    return (\r\n        <ul className=\"collection cart-list\">\r\n        <li className=\"collection-item active blue darken-2\">\r\n            Корзина заказов\r\n            <span className=\"secondary-content delete-btn\" onClick={handleCartShow}>\r\n                <i className=\"material-icons\">close</i>\r\n            </span>\r\n        </li>\r\n        {\r\n            order.length ? \r\n            order.map(item => <CartItem \r\n                                    key={item.mainId} \r\n                                    {...item} \r\n                                    deleteFromCart={deleteFromCart }\r\n                                    removeProductCount={removeProductCount }\r\n                                    addProductCount={addProductCount }\r\n                                />) :\r\n            <li className=\"collection-item center-align\">В корзине нет заказов</li>\r\n        }\r\n        <li className=\"collection-item active blue darken-2 quantity-collection\">\r\n            Общая сумма заказа: {totalPrice} &#8381;\r\n            <button className=\"btn send-btn blue darken-2\" >\r\n                    Отправить\r\n                    <i className=\"material-icons\">offline_pin</i>\r\n            </button>\r\n        </li>\r\n      </ul>\r\n    )\r\n}\r\n\r\nexport { CartList}","import { useEffect } from 'react';\r\n\r\nfunction Alert(props) {\r\n    const { name = ' ', closeAlert = Function.prototype } = props;\r\n    useEffect(() => {\r\n        const timerId = setTimeout(closeAlert, 3000);\r\n\r\n        return () => {\r\n            clearTimeout(timerId);\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [name]);\r\n\r\n    return <div id=\"toast-container\">\r\n                <div className=\"toast\"> { name } добавлен в корзину</div>\r\n            </div>\r\n}\r\n\r\nexport { Alert };","import { useState, useEffect} from 'react';\r\nimport { API_KEY, API_URL} from '../config';\r\nimport { Preloader } from './Preloader';\r\nimport { GoodsList } from './GoodsList';\r\nimport { Cart } from './Cart';\r\nimport { CartList } from './CartList';\r\nimport { Alert } from './Alert';\r\n\r\nconst Shop = () => {\r\n    const [goods, setGoods] = useState([]);\r\n    const [order, setOrder] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [isCartShowed, setCartShowed]  = useState(false);\r\n    const [alertName, setAlertName] = useState('');\r\n\r\n    const addToCart = (item) => {\r\n        const orderIndex = order.findIndex(elem => elem.mainId === item.mainId);\r\n\r\n        if (orderIndex < 0) {\r\n            const newItem = {\r\n                ...item,\r\n                quantity: 1\r\n            }\r\n            setOrder([...order, newItem]);\r\n        } else {\r\n            const newOrder = order.map((elem, index) => {\r\n                if (index === orderIndex) {\r\n                    return {\r\n                        ...elem,\r\n                        quantity: elem.quantity + 1\r\n                    }\r\n                } else {\r\n                    return elem;\r\n                }\r\n            });\r\n            setOrder(newOrder);\r\n        }\r\n        setAlertName(item.displayName);\r\n    }\r\n\r\n    const handleCartShow = () => {\r\n        setCartShowed(!isCartShowed);\r\n    }\r\n\r\n    const deleteFromCart = (id) => {\r\n        const itemIndex = order.findIndex(elem => elem.mainId === id);\r\n        const beforeItem = order.slice(0, itemIndex);\r\n        const afterItem = order.slice(itemIndex + 1);\r\n        const newOrder = [...beforeItem, ...afterItem];\r\n        setOrder(newOrder);\r\n    }\r\n    const removeProductCount = (id) => {\r\n        const newOrder = order.map(elem => {\r\n            if (elem.mainId  === id) {\r\n                const newQuantity = elem.quantity - 1;\r\n                return {\r\n                    ...elem,\r\n                    quantity: newQuantity >= 0 ? newQuantity : 0\r\n                }\r\n            } else {\r\n                return elem;\r\n            }\r\n        });\r\n        setOrder(newOrder);\r\n    }\r\n    const addProductCount = (id) => {\r\n        const newOrder = order.map(elem => {\r\n            if (elem.mainId  === id) {\r\n                const newQuantity = elem.quantity + 1;\r\n                return {\r\n                    ...elem,\r\n                    quantity: newQuantity\r\n                }\r\n            } else {\r\n                return elem;\r\n            }\r\n        });\r\n        setOrder(newOrder);\r\n    }\r\n    const closeAlert = () => {\r\n        setAlertName('');\r\n    }\r\n    useEffect(function getGoods() {\r\n        fetch(API_URL, {\r\n            headers: {\r\n                Authorization: API_KEY,\r\n            },\r\n        })\r\n        .then((res) => res.json())\r\n        .then((data) => {\r\n            data.shop && setGoods(data.shop);\r\n            setLoading(false);\r\n        }) \r\n    }, []);\r\n    return <main className=\"container content\">\r\n                <Cart \r\n                    order={order.length} \r\n                    handleCartShow={handleCartShow} \r\n                />\r\n                {loading ? <Preloader /> : <GoodsList goods={goods}  addToCart={addToCart}/>}\r\n                {isCartShowed && <CartList \r\n                                        order={order} \r\n                                        handleCartShow={handleCartShow}\r\n                                        deleteFromCart={deleteFromCart}\r\n                                        removeProductCount={removeProductCount}\r\n                                        addProductCount={addProductCount}\r\n                                    />}\r\n                {alertName && <Alert name={alertName} closeAlert={closeAlert}/>}\r\n            </main>\r\n}\r\n\r\nexport { Shop };","const API_KEY = \"8a198bc5-ed58c0f4-e2e21af4-682d1d80\";\r\n\r\nconst API_URL = \" https://fortniteapi.io/v2/shop?lang=ru\";\r\n\r\nexport {\r\n    API_KEY,\r\n    API_URL\r\n}","import { Header } from './components/Header';\nimport { Footer } from './components/Footer';\nimport { Shop } from './components/Shop';\n\nfunction App() {\n  return (\n    <>\n      <Header />\n      <Shop />\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}